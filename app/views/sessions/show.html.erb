<%# This is the title, responsive for small screens and bigger screens %>
<div class="container-fluid">
<div class="title"> Video Call in Room #<%=@session["id"]%></div>


<%# This is the list of the subjects that we got from the @subjects variable, and we are creating a table with all of them! %>
<%# All of the sessions will use the same room for now to keep it simpler %>

  <ul class="list-group list-group-flush bg-transparent">
    <p class="text-dark mb-1"> Mentor: <%=@tutor.account.name%> </p> 
    <p class="text-dark mb-1"> Subject: <%=@clicked_subject.name%> </p>
    <br>
    <div class="warning"> If the video does not display, please refresh the screen. </div>
  </ul>
</div>
<% if @clicked_subject %>
<script crossorigin src="https://unpkg.com/@daily-co/daily-js"></script>
<script>
if (window.innerWidth <= 400) {
  callFrame = window.DailyIframe.createFrame({
  showLeaveButton: true,
      iframeStyle: {
      position: 'fixed',
      bottom: 0,
      width: '100%',
      height: '100%'
      }
});

  callFrame.join({ url: 'https://tutorial.daily.co/hello' })
} else {
      callFrame = window.DailyIframe.createFrame({
      showLeaveButton: true,
      iframeStyle: {
      position: 'fixed',
      top: 0,
      right: 0,
      width: '50%',
      height: '100%',
      }
});

  callFrame.join({ url: 'https://tutorial.daily.co/hello' })
}
  
</script>

<% end %>